FROM alpine:latest

WORKDIR /home/ericandre

RUN apk update \
&& apk add --no-cache python3 py-pip bash \
&& python3 -m venv /home/ericandre/venv \
&& /home/ericandre/venv/bin/pip install --no-cache flask \
&& adduser ericandre -D -h /home/ericandre
COPY . .
RUN chown ericandre:ericandre -R /home/ericandre/
USER ericandre

CMD ["/home/ericandre/venv/bin/python3", "app.py"]
