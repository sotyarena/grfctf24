from flask import Flask, request, render_template
import subprocess

app = Flask(__name__)

@app.route('/', methods = ['GET', 'POST'])
def home():
    if request.method == 'POST':
        command = subprocess.Popen('ping -c 4 '+str(request.form.get('command')), shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT).stdout.readlines()
        command = [i.decode() for i in command]
        return render_template('home.html', cmd_output = command)
    return render_template('home.html')

app.run(host='0.0.0.0', port=2002)
