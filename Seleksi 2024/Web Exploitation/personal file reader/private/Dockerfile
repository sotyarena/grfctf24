FROM alpine:latest

WORKDIR /home/kobe

RUN apk update 
RUN apk add --no-cache python3 py-pip bash
RUN python3 -m venv /home/kobe/venv 
RUN /home/kobe/venv/bin/pip install --no-cache flask
RUN apk add --no-cache bash 
RUN adduser kobe -D -h /home/kobe

COPY . .

RUN chown root:root -R /home/ 
RUN chmod 755 -R /home/kobe

USER kobe

CMD ["/home/kobe/venv/bin/python3", "app.py"]
