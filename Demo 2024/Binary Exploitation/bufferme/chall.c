#include <stdio.h>
#include <string.h>
#include <stdlib.h>

void readflag()
{
    char flag;
    FILE *fptr;

    fptr = fopen("flag.txt", "r");
    if (fptr == NULL)
    {
        puts("Create your own flag!");
        exit(0);
    }
    flag = fgetc(fptr);
    while (flag != EOF)
    {
        printf("%c", flag);
        flag = fgetc(fptr);
    }
    fclose(fptr);
}

int main()
{
    char buf[256]; // overflow me :3
    int len;

    puts("Tell me a story!");
    puts("Once in a while...");

    gets(buf); // dangerous!
    
    len = strlen(buf);
    
    printf("Your story: %s\n", buf);
    printf("Story length: %ld\n", strlen(buf));

    if (len > 152)
    {
        readflag();
        puts("\naaaa, so many bytes! thank you :D\n");
    }
    else
    {
        puts("That's interesting, but tell me another story!");
    }

    return 0;
}